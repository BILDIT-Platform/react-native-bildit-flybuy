(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[417],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(f,o(o({ref:t},p),{},{components:n})):r.createElement(f,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6403:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return o},metadata:function(){return l},toc:function(){return s},default:function(){return p}});var r=n(2122),a=n(9756),i=(n(7294),n(3905)),o={sidebar_position:2},l={unversionedId:"Modules/Presence",id:"Modules/Presence",isDocsHomePage:!1,title:"Presence",description:"Set up and Initialize SDK",source:"@site/docs/Modules/Presence.md",sourceDirName:"Modules",slug:"/Modules/Presence",permalink:"/react-native-bildit-flybuy/docs/Modules/Presence",editUrl:"https://github.com/bildit-Platform/react-native-bildit-flybuy/edit/main/website/docs/Modules/Presence.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Pickup",permalink:"/react-native-bildit-flybuy/docs/Modules/Pickup"},next:{title:"Notify",permalink:"/react-native-bildit-flybuy/docs/Modules/Notify"}},s=[{value:"Set up and Initialize SDK",id:"set-up-and-initialize-sdk",children:[]},{value:"Bluetooth Permissions",id:"bluetooth-permissions",children:[]},{value:"Start a Locator",id:"start-a-locator",children:[]},{value:"Stop a Locator",id:"stop-a-locator",children:[]},{value:"Android Service Notification",id:"android-service-notification",children:[]}],c={toc:s};function p(e){var t=e.components,o=(0,a.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"set-up-and-initialize-sdk"},"Set up and Initialize SDK"),(0,i.kt)("p",null,"The Flybuy SDK must be initialized when the application starts in order to configure the app authorization token and handle appropriate lifecycle methods."),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Important:")," Complete all steps in the Android and iOS setup guides. Key steps are highlighted below."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/react-native-bildit-flybuy/docs/Setup#installation"},"Install SDK")),(0,i.kt)("li",{parentName:"ol"},"Post-install Steps for ",(0,i.kt)("a",{parentName:"li",href:"/react-native-bildit-flybuy/docs/Setup#ios"},"iOS")," and ",(0,i.kt)("a",{parentName:"li",href:"/react-native-bildit-flybuy/docs/Setup#android"},"Android")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/react-native-bildit-flybuy/docs/Usage#initialize-sdk-on-launch"},"Initialize SDK on launch"))),(0,i.kt)("h2",{id:"bluetooth-permissions"},"Bluetooth Permissions"),(0,i.kt)("p",null,"Flybuy Presence uses Bluetooth on the mobile device to send locate and send order information to the store. iOS requires additional permissions for this. Refer to the Setting Permissions section of the setup guides for ",(0,i.kt)("a",{parentName:"p",href:"../Setup#enable-background-modes"},"iOS")," for details. If the app already asks for Bluetooth permissions for other purposes, this may not be necessary."),(0,i.kt)("h2",{id:"start-a-locator"},"Start a Locator"),(0,i.kt)("p",null,"Create and start a Presence Locator. A Presence Locator is a Bluetooth advertisement that can transmit information to the Flybuy Gateway from a mobile device in a specific spot."),(0,i.kt)("h4",{id:"params"},"Params"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Example"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"presenceId"),(0,i.kt)("td",{parentName:"tr",align:null},"Str"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"'12345678'"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"payload"),(0,i.kt)("td",{parentName:"tr",align:null},"Str"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"\"{'key':'value'}\""))))),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"FlyBuy.Presence.startLocatorWithIdentifier('12345678', \"{'key':'value'}\");\n")),(0,i.kt)("h2",{id:"stop-a-locator"},"Stop a Locator"),(0,i.kt)("p",null,"Stop the Presence Locator when the transaction is complete."),(0,i.kt)("h4",{id:"params-1"},"Params"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"None")))),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"FlyBuy.Presence.stopLocator();\n")),(0,i.kt)("h2",{id:"android-service-notification"},"Android Service Notification"),(0,i.kt)("p",null,"When there is an active locator, the Flybuy SDK runs a foreground service for broadcasting the locator. Foreground services on Android require a notification while it is running, To override the default values of notification title, content, and icon, please refer to ",(0,i.kt)("a",{parentName:"p",href:"https://www.radiusnetworks.com/developers/flybuy/#/sdk-2.0/presence?id=android-service-notification"},"Android Service Notification")," Docs."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Notification example",src:n(7323).Z})))}p.isMDXComponent=!0},7323:function(e,t,n){"use strict";t.Z=n.p+"assets/images/notification-596b8524eb6a19850bd442c5aa85d249.png"}}]);