(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[428],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),u=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=u(e.components);return i.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,f=c["".concat(s,".").concat(m)]||c[m]||p[m]||a;return n?i.createElement(f,o(o({ref:t},d),{},{components:n})):i.createElement(f,o({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<a;u++)o[u]=n[u];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9443:function(e,t,n){"use strict";var i=(0,n(7294).createContext)(void 0);t.Z=i},944:function(e,t,n){"use strict";var i=n(7294),r=n(9443);t.Z=function(){var e=(0,i.useContext)(r.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},6566:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h},frontMatter:function(){return y},metadata:function(){return v},toc:function(){return k}});var i=n(2122),r=n(9756),a=n(7294),o=n(3905),l=n(944),s=n(6010),u="tabItem_1uMI",d="tabItemActive_2DSg";var p=37,c=39;var m=function(e){var t=e.lazy,n=e.block,i=e.defaultValue,r=e.values,o=e.groupId,m=e.className,f=(0,l.Z)(),y=f.tabGroupChoices,v=f.setTabGroupChoices,k=(0,a.useState)(i),b=k[0],h=k[1],g=a.Children.toArray(e.children),N=[];if(null!=o){var w=y[o];null!=w&&w!==b&&r.some((function(e){return e.value===w}))&&h(w)}var S=function(e){var t=e.currentTarget,n=N.indexOf(t),i=r[n].value;h(i),null!=o&&(v(o,i),setTimeout((function(){var e,n,i,r,a,o,l,s;(e=t.getBoundingClientRect(),n=e.top,i=e.left,r=e.bottom,a=e.right,o=window,l=o.innerHeight,s=o.innerWidth,n>=0&&a<=s&&r<=l&&i>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(d),setTimeout((function(){return t.classList.remove(d)}),2e3))}),150))},O=function(e){var t,n;switch(e.keyCode){case c:var i=N.indexOf(e.target)+1;n=N[i]||N[0];break;case p:var r=N.indexOf(e.target)-1;n=N[r]||N[N.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":n},m)},r.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:b===t?0:-1,"aria-selected":b===t,className:(0,s.Z)("tabs__item",u,{"tabs__item--active":b===t}),key:t,ref:function(e){return N.push(e)},onKeyDown:O,onFocus:S,onClick:S},n)}))),t?(0,a.cloneElement)(g.filter((function(e){return e.props.value===b}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},g.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==b})}))))};var f=function(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:i},t)},y={sidebar_position:2},v={unversionedId:"Setup",id:"Setup",isDocsHomePage:!1,title:"Setup",description:"Installation",source:"@site/docs/Setup.md",sourceDirName:".",slug:"/Setup",permalink:"/react-native-bildit-flybuy/docs/Setup",editUrl:"https://github.com/bildit-Platform/react-native-bildit-flybuy/edit/main/website/docs/Setup.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Migration to 2.20.x",permalink:"/react-native-bildit-flybuy/docs/Migration"},next:{title:"Usage",permalink:"/react-native-bildit-flybuy/docs/Usage"}},k=[{value:"Installation",id:"installation",children:[]},{value:"Post-install Steps",id:"post-install-steps",children:[{value:"iOS",id:"ios",children:[]},{value:"Android",id:"android",children:[]}]}],b={toc:k};function h(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,i.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"You can install the React Native Flybuy SDK with npm or yarn, as follows:"),(0,o.kt)(m,{defaultValue:"npm",groupId:"npm2yarn",values:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],mdxType:"Tabs"},(0,o.kt)(f,{value:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save react-native-bildit-flybuy-core\n\n# RN >= 0.60\n\ncd ios && pod install\n\n# RN < 0.60\n\nreact-native link react-native-bildit-flybuy-core\n"))),(0,o.kt)(f,{value:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add react-native-bildit-flybuy-core\n\n# RN >= 0.60\n\ncd ios && pod install\n\n# RN < 0.60\n\nreact-native link react-native-bildit-flybuy-core\n")))),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This wrapper only tested on React Native version 0.74.x. This wrapper should work with any latest React Native version that using Android Gradle Plugin version 8.2.1 or more. Minimum deployment target for iOS is 13.4"))),(0,o.kt)("h2",{id:"post-install-steps"},"Post-install Steps"),(0,o.kt)("h3",{id:"ios"},"iOS"),(0,o.kt)("h4",{id:"setting-permissions"},"Setting Permissions"),(0,o.kt)("p",null,"Refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://www.radiusnetworks.com/developers/flybuy/#/sdk-2.0/ios?id=setting-permissions"},"Flybuy Documentation on configuring permissions")," on iOS."),(0,o.kt)("h4",{id:"fix-development-build"},"Fix Development Build"),(0,o.kt)("p",null,"By default, you don't have to modify the Podfile to run this library. If you have issue with dynamic framework, you can include the library as static framework by adding this code in Podfile."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"  $static_framework += [\n    # adjust the packages that you used in your project.\n    'bildit-platform-rn-flybuy-core',\n    'bildit-platform-rn-flybuy-pickup'\n  ]\n")),(0,o.kt)("h4",{id:"fix-release-build"},"Fix Release Build"),(0,o.kt)("p",null,"If you have trouble running the app in Release mode with error ",(0,o.kt)("inlineCode",{parentName:"p"},"Undefined symbol: _OBJC_CLASS_$_Flybuy"),", you can fix it by changing your project ",(0,o.kt)("inlineCode",{parentName:"p"},"Build Settings")," and set ",(0,o.kt)("inlineCode",{parentName:"p"},"Build Active Architecture Only")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"Yes"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/2896774/144399782-46089446-0441-46e8-aa49-3865374bf2cf.png",alt:"XCode change"})),(0,o.kt)("h3",{id:"android"},"Android"),(0,o.kt)("h4",{id:"gradle"},"Gradle"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Modify ",(0,o.kt)("inlineCode",{parentName:"p"},"android/build.gradle")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'  buildscript {\n    ext {\n        buildToolsVersion = "34.0.0"\n        minSdkVersion = 26 // <-- the minimum supported SDK for the latest FlyBuy SDK\n        compileSdkVersion = 34\n        targetSdkVersion = 34\n        ndkVersion = "26.1.10909125"\n        kotlinVersion = "1.9.22"\n        flybuyVersion = "2.12.1" // <-- add this line\n    }\n  }\n\n')),(0,o.kt)("p",{parentName:"li"},"Note: Modify ",(0,o.kt)("inlineCode",{parentName:"p"},"flybuyVersion")," with your desired SDK version, the default value is ",(0,o.kt)("inlineCode",{parentName:"p"},"2.12.1"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Modify ",(0,o.kt)("inlineCode",{parentName:"p"},"android/app/build.gradle")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'    {\n      android {\n        defaultConfig {\n          applicationId "your.package.name"\n          minSdkVersion rootProject.ext.minSdkVersion\n          targetSdkVersion rootProject.ext.targetSdkVersion\n          versionCode 1\n          versionName "1.0"\n\n          missingDimensionStrategy "flybuy", "default" // <-- add this line\n        }\n      }\n    }\n')))),(0,o.kt)("h4",{id:"google-api-keys"},"Google API Keys"),(0,o.kt)("p",null,"Refer to ",(0,o.kt)("a",{parentName:"p",href:"https://www.radiusnetworks.com/developers/flybuy/#/sdk-2.0/android?id=google-api-keys"},"Flybuy Documentation on setting Google API Keys"),"."),(0,o.kt)("h4",{id:"permissions"},"Permissions"),(0,o.kt)("p",null,"Refer to ",(0,o.kt)("a",{parentName:"p",href:"https://www.radiusnetworks.com/developers/flybuy/#/sdk-2.0/android?id=setting-permissions"},"Flybuy Documentation for permission requirements")," on Android."),(0,o.kt)("h4",{id:"requesting-location-permissions-at-runtime"},"Requesting location permissions at runtime"),(0,o.kt)("p",null,"The following code snipper provides an example of requesting location permissions at runtime."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import {\n  requestMultiple,\n  PERMISSIONS,\n  RESULTS,\n} from 'react-native-permissions';\n\nconst getLocationPermissions = async () => {\n  const granted = await requestMultiple(\n    Platform.select({\n      android: [\n        PERMISSIONS.ANDROID.ACCESS_BACKGROUND_LOCATION,\n        PERMISSIONS.ANDROID.ACCESS_FINE_LOCATION,\n      ],\n      ios: [PERMISSIONS.IOS.LOCATION_WHEN_IN_USE],\n    }),\n    {\n      title: 'ExampleApp',\n      message: 'ExampleApp would like access to your location ',\n    }\n  );\n  return granted === RESULTS.GRANTED;\n};\n\nReact.useEffect(() => {\n  getLocationPermissions();\n}, []);\n")),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Whenever the location permission changes (accepted or declined), make sure to call:"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// If using pickup module\nimport * as FlyBuyPickup from 'react-native-bildit-flybuy-pickup'\n\nFlyBuyPickup.onPermissionChanged();\n\n// If using notify module\nimport * as FlyBuyNotify from 'react-native-bildit-flybuy-notify'\n\nFlyBuyNotify.onPermissionChanged();\n")))))}h.isMDXComponent=!0},6010:function(e,t,n){"use strict";function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{Z:function(){return r}})}}]);